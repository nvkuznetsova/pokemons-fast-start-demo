<form [formGroup]="myForm" class="p-fluid flex flex-column gap-3 w-4 py-3" (ngSubmit)="onSubmit()">
  <div class="field">
    <input type="text" pInputText formControlName="username" placeholder="Username">
  </div>
  <div class="field">
    <input type="email" pInputText formControlName="email" placeholder="Email">
    <small *ngIf="email.invalid && email.touched" class="invalid-message p-error">
      <p *ngIf="email.hasError('required')">This field is required</p>
      <p *ngIf="email.hasError('email')">Should fit email pattern</p>
    </small>
  </div>
  <div class="field">
    <input type="password" pInputText formControlName="password" placeholder="Password">
  </div>
  <div class="field flex align-items-center gap-2">
    <p-inputSwitch formControlName="shouldUseCountry" inputId="shouldUseCountry"></p-inputSwitch>
    <label for="shouldUseCountry">Should select country</label>
  </div>
  <div *ngIf="shouldUseCountry.value" class="field">
    <p-dropdown [options]="countries" formControlName="country" optionLabel="name" optionValue="code" placeholder="Select country" [required]="true"></p-dropdown>
  </div>
  <button pButton type="submit" label="Submit" class="p-button-success" [disabled]="myForm.invalid"></button>
</form>
